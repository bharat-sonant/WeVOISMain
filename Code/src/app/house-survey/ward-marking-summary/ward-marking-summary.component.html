<section class="header">
    <div class="row no-gutters">
        <div class="col-md-4 no-gutters-iner">
           
        </div>
        <div class="col-md-4 Ward-Marking-heading">
            Ward Marking Summary
        </div>
        <div class="col-md-4 text-right total-house fix-home-outer">
            <div class="fix-home">
                <div class="float-first fix-home-iner">
                    <i class="fas fa-vr-cardboard"></i> <span class="house"><span class="fix-home-span">
                            {{markerData.totalAlreadyCard}}</span></span><br>
                    <h6>Already Installed</h6>
                </div>
                <div class="float-third">
                    <i class="fas fa-house-damage"></i> <span class="house"> {{markerData.totalMarkers}}</span><br>
                    <h6>Total Marker</h6>
                </div>
            </div>
        </div>
    </div>
</section>
<div class="main-content">
    <div class="row">
        <div class="col-md-6 card-outer">
            <div class="card card-body-outer">
                <div class="card-body card-body2">
                    <form>
                        <div class="row">
                            <div class="col-md-12 pr-1">
                                <div class="table-wrapper table-one">
                                    <table class="table table-one-iner"
                                        >
                                        <thead>
                                            <th class="ward-table-heading">Ward</th>
                                            <th class="text-right Markers-table-heading">
                                                Markers</th>
                                            <th class="text-right Already-table-heading">
                                                Already Installed</th>
                                            <th class="text-right Approved-table-heading">
                                                Approved Lines</th>
                                            <th class="text-left Status-table-heading">
                                                Status</th>
                                        </thead>
                                        <tbody>
                                            <tr class="table-row" id="tr{{i}}" *ngFor="let data of wardProgressList; let i=index"
                                                 (click)="getMarkingDetail(data.wardNo,i);" [hidden]="data.wardNo==0">
                                                <td class="table-data">
                                                    {{data.wardNo}}</td>
                                                <td class="text-right table-data">
                                                    {{data.markers}}</td>
                                                <td class="text-right table-data">
                                                    {{data.alreadyInstalled}}</td>

                                                <td class="text-right table-data">
                                                    {{data.approvedLines}} / {{data.wardLines}}</td>
                                                <td class="text-left {{data.cssClass}} table-data">
                                                    {{data.status}}</td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div id="divMessage" class="col-md-12 pr-1 text-center no-available"
                                >
                                <div class="form-group">
                                    <h5>No data available</h5>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        <div class="col-md-6 loaderClass-outer">
            <div id="divLoader" class="loaderClass">
                <img src="../../../assets/img/loading.gif" width="50" class="imgLoader">
              </div>
            <div class="card custom-header-outer">
                <div class="card-header custom-header">
                    <div class="row">
                        <div class="col-md-3 text-center">
                            <div class="table-heading">
                                <h3>
                                    <span class="tbl-points"> {{markerData.totalLines}}</span> <br>
                                    Lines
                                </h3>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="table-heading">
                                <h3>
                                    <span class="tbl-points"> {{markerData.wardApprovedLines}}</span> <br>
                                    Approved Lines
                                </h3>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="table-heading">
                                <h3>
                                    <span class="tbl-points"> {{markerData.wardMarkers}}</span> <br>
                                    Markers
                                </h3>
                            </div>
                        </div>
                        <div class="col-md-3 text-center">
                            <div class="table-heading">
                                <h3>
                                    <span class="tbl-points"> {{markerData.wardInstalled}}</span> <br>
                                    Already Installed
                                </h3>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card-body card-body3">
                    <div class="row">

                        <div class="col-md-12">
                            <form>
                                <div class="row">
                                    <div class="col-md-12 pr-1">
                                        <div class="table-wrapper table-scroll table-outer">
                                            <table class="table table-outer-iner"
                                                >
                                                <thead>
                                                    <th class="table-data-line2">Line</th>
                                                    <th class="text-right table-data-Markers2"
                                                        >Markers</th>
                                                    <th class="text-right table-data-Already2"
                                                        >Already
                                                        Installed
                                                    </th>
                                                    <th class="text-center table-data-Approved2"
                                                        >Approved
                                                    </th>

                                                    <th class="text-center table-data-hesh"
                                                        >#</th>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let data of lineMarkerList; let i=index">
                                                        <td class="table-data2">
                                                            {{data.lineNo}}</td>
                                                        <td class="text-right table-data2">
                                                            {{data.markers}}</td>
                                                        <td class="text-right table-data2">
                                                            {{data.alreadyCard}}</td>
                                                        <td class="text-center table-data2">
                                                            <span [hidden]="data.markers==0">
                                                                <i class="fas fa-check check-icon"
                                                                    
                                                                    [hidden]="data.isApproved==false"></i>
                                                                <i class="fas fa-times times-icon"
                                                                    
                                                                    [hidden]="data.isApproved==true"></i>
                                                            </span>
                                                        </td>
                                                        <td class="text-center table-data2">

                                                            <i class="far fa-eye eye-icon"
                                                                
                                                                [hidden]="data.markers==0"
                                                                (click)="showLineDetail(contentLineMarkers,data.wardNo,data.lineNo);"></i>
                                                        </td>
                                                    </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                    <div class="divmessage" id="divMessage" class="col-md-12 pr-1 text-center"
                                        >
                                        <div class="form-group">
                                            <h5>No data available</h5>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
         </div>
    </div>
</div> 


<!--Vehicle Status Start-->
<ng-template #contentLineMarkers>
    <div class="img-close-outer">

        <img src="../../../assets/img/close-grey.png" class="img-close" (click)="closeModel();">

    </div>
    <div class="modal-body content-scroll-outer">
        <div id="divStatus" class="content-scroll">
            <div class="row">
                <div class="col-md-2" *ngFor="let dt of markerDetailList">
                    <div class="dt-img-outer">
                        <a href="{{dt.imageUrl}}" target="_blank">
                            <img class="dt-img" [src]="dt.imageUrl"/>
                        </a>
                    </div>
                    <div class="main-tag">
                        <div class="f-left">
                            <h3 class="f-left-heading" > {{dt.type}} </h3><br />
                            <p>Already Card <span class="f-right"> :</span></p>
                            <h3> {{dt.alreadyInstalled}} </h3><br />
                            <span [hidden]="dt.status==''">
                                <p>Status <span class="f-right"> :</span></p>
                                <h3> {{dt.status}} </h3>
                            </span>
                        </div>
                    </div>

                    <button class="btn-cancel reject-btn" [hidden]="dt.status==''"
                        (click)="saveMarkerStatus(dt.wardNo,dt.lineNo,dt.index);"
                        
                        [hidden]="dt.status!=''">Reject</button>&nbsp;
                    <button class="btn-cancel delete-btn" [hidden]="dt.status==''"
                        (click)="removeMarker(dt.wardNo,dt.lineNo,dt.index,dt.alreadyInstalled);"
                        
                        [hidden]="dt.status!=''">Delete</button>

                </div>
            </div>

        </div>
    </div>
</ng-template>
<!--Vehicle Status End-->